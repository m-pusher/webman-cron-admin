<!DOCTYPE html>
<html>

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="https://unpkg.com/@smallwei/avue@2.9.11/lib/index.css">
    <title>{$title}</title>
    <style>
      html,
      body,
      #app {
        height: 100%;
        margin: 0;
        padding: 0px;
      }

      .avue-home {
        background-color: #303133;
        height: 100%;
        display: flex;
        flex-direction: column;
      }

      .avue-home__main {
        user-select: none;
        width: 100%;
        flex-grow: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }

      .avue-home__footer {
        width: 100%;
        flex-grow: 0;
        text-align: center;
        padding: 1em 0;
      }

      .avue-home__footer>a {
        font-size: 12px;
        color: #ABABAB;
        text-decoration: none;
      }

      .avue-home__loading {
        height: 32px;
        width: 32px;
        margin-bottom: 20px;
      }

      .avue-home__title {
        color: #FFF;
        font-size: 14px;
        margin-bottom: 10px;
      }

      .avue-home__sub-title {
        color: #ABABAB;
        font-size: 12px;
      }



      .login-container {
  display: flex;
  align-items: center;
  position: relative;
  width: 100%;
  height: 100%;
  margin: 0 auto;
  background-image: url("/img/bg/bg.jpg");
  background-size: 100% 100%;
}

.login-weaper {
  margin: 0 auto;
  width: 1000px;
  box-shadow: -4px 5px 10px rgba(0, 0, 0, 0.4);

  margin-top: 60px;
}

.login-weaper .el-input-group__append {
    border: none;
  }

.login-left,
.login-border {
  position: relative;
  min-height: 500px;
  align-items: center;
  display: flex;
}

.login-left {
  border-top-left-radius: 5px;
  border-bottom-left-radius: 5px;
  justify-content: center;
  flex-direction: column;
  background-color: #8b9aac;
  color: #fff;
  float: left;
  width: 50%;
  position: relative;
}

.login-left .img {
  width: 140px;
}

.login-time {
  position: absolute;
  left: 25px;
  top: 25px;
  width: 100%;
  color: #fff;
  font-weight: 200;
  opacity: 0.9;
  font-size: 18px;
  overflow: hidden;
}

.login-left .title {
  text-align: center;
  color: #fff;
  font-weight: bold;
  font-size: 30px;
  letter-spacing: 2px;
}

.login-border {
  border-left: none;
  border-top-right-radius: 5px;
  border-bottom-right-radius: 5px;
  color: #fff;
  background-color: #fff;
  width: 50%;
  float: left;
  box-sizing: border-box;
}

.login-main {
  margin: 0 auto;
  width: 65%;
  box-sizing: border-box;
}

.login-main > h3 {
  margin-bottom: 20px;
}

.login-main > p {
  color: #76838f;
}

.login-title {
  color: #333;
  margin-bottom: 40px;
  font-weight: 500;
  font-size: 22px;
  text-align: center;
  letter-spacing: 4px;
}

.login-menu {
  margin-top: 40px;
  width: 100%;
  text-align: center;

  
}
.login-menu a {
    color: #999;
    font-size: 12px;
    margin: 0px 8px;
  }

.login-submit {
  width: 100%;
  height: 45px;
  border: 1px solid #409EFF;
  background: none;
  font-size: 18px;
  letter-spacing: 2px;
  font-weight: 300;
  color: #409EFF;
  cursor: pointer;
  margin-top: 30px;
  font-family: "neo";
  transition: 0.25s;
}

.login-form {
  margin: 10px 0;

  
}

.login-form i {
    color: #333;
  }

 .login-form  .el-form-item__content {
    width: 100%;
  }

 .login-form  .el-form-item {
    margin-bottom: 12px;
  }

.login-form   .el-input input {
      padding-bottom: 10px;
      text-indent: 5px;
      background: transparent;
      border: none;
      border-radius: 0;
      color: #333;
      border-bottom: 1px solid rgb(235, 237, 242);
    }

.login-form     .el-input__prefix i {
        padding: 0 5px;
        font-size: 16px !important;
      }
    
  
.login-code {
  display: flex;
  align-items: center;
  justify-content: space-around;
  margin: 0 0 0 10px;
}

.login-code-img {
  margin-top: 2px;
  width: 100px;
  height: 38px;
  background-color: #fdfdfd;
  border: 1px solid #f0f0f0;
  color: #333;
  font-size: 14px;
  font-weight: bold;
  letter-spacing: 5px;
  line-height: 38px;
  text-indent: 5px;
  text-align: center;
  cursor:pointer!important;
}

    </style>
  </head>

  <body>
    <noscript>
      <strong>
        很抱歉，如果没有 JavaScript 支持，Saber 将不能正常工作。请启用浏览器的 JavaScript 然后继续。
      </strong>
    </noscript>
    <div id="app">
      <div class="avue-home" v-if="!loaded">
        <div class="avue-home__main">
          <div class="avue-home__title">
            正在加载资源
          </div>
          <div class="avue-home__sub-title d">
            初次加载资源可能需要较多时间 请耐心等待
          </div>
        </div>
      </div>
      <div style="padding: 10px;">
        <div class="login-container" ref="login" @keyup.enter.native="handleLogin">
          <div class="login-weaper animated bounceInDown">
            <div class="login-left">
              <p class="title">{$title}</p>
            </div>
            <div class="login-border">
              <div class="login-main">
                <h4 class="login-title">
                  {$title}
                </h4>
                <el-form class="login-form" status-icon :rules="loginRules" ref="loginForm" :model="loginForm" label-width="0">
                  <el-form-item prop="username">
                    <el-input size="small" placeholder="用户名" @keyup.enter.native="handleLogin" v-model="loginForm.username" auto-complete="off">
                      <i slot="prefix" class="el-icon-user" ></i>
                    </el-input>
                  </el-form-item>
                  <el-form-item prop="password">
                    <el-input size="small" placeholder="密码" @keyup.enter.native="handleLogin" :type="passwordType" v-model="loginForm.password"
                      auto-complete="off">
                      <i class="el-icon-view el-input__icon" slot="suffix" @click="showPassword" ></i>
                      <i slot="prefix" class="el-icon-lock"></i>
                    </el-input>
                  </el-form-item>
                  <el-form-item>
                    <el-button type="primary" size="small" @click.native.prevent="handleLogin" class="login-submit">
                      登录
                    </el-button>
                  </el-form-item>
                </el-form>
              </div>
        
            </div>
          </div>
        </div>
       
      </div>
    </div>
    <script src="https://unpkg.com/vue@2.6.10/dist/vue.min.js" charset="utf-8"></script>
    <script src="https://unpkg.com/axios@0.27.2/dist/axios.min.js" charset="utf-8"></script>
    <script src="https://unpkg.com/element-ui@2.15.9/lib/index.js" charset="utf-8"></script>
    <script src="https://unpkg.com/@smallwei/avue@2.9.11/lib/avue.min.js" charset="utf-8"></script>
    <script>
      window.app = new Vue({
        el: '#app',
        data() {
          return {
            loaded: false,
            loginRules: {},
            loginForm: {},
            tenantMode: false,
            passwordType: "password",
          };
        },
        mounted() {
          this.loaded = true;
        },
        methods: {
          showPassword() {
            this.passwordType === ""
              ? (this.passwordType = "password")
              : (this.passwordType = "");
          },
          handleLogin() {
            if (!this.loginForm.username) {
              this.$message.error('请输入用户名');
              return;
            }
            if (!this.loginForm.password) {
              this.$message.error('请输入密码');
              return;
            }
            axios.post('/cron-admin/api/login', {
              username: this.loginForm.username,
              password: this.loginForm.password
            }).then((resp) => {
              console.log(resp.data);
              if (resp.data.code <= 0) {
                this.$message.error(resp.data.msg);
                return;
              }
              window.location.href = './index';
            }).catch(() => {
              this.$message.error('登录失败');
            })
          },
        }
      });
    </script>
  </body>

</html>